---
title: 'Google-Books-Project'
date: '2023-12-06'
totalReadingTime: '~5 mins'
section: 'Full-Stack Web Application'
keywords: 'Google Books API, Cache, Next.js'
---

![Picture of the Image](/images/projects/googlebooks.png "Scenic View")

###[See this website live!](https://google-books-library.vercel.app/)
This is a full-stack project built using Next.js and hosted on Vercel. It integrates Google Books API and New York Times API to deliver real-time data on an extensive range of books. 

## Key Features
-	It features full CRUDs applications enabling users to create, add, and update books and rating of a book, and browsing books - by categories and weekly popular list from New York Times. 
-	Powered by PostgreSQL with Prisma ORM, for enhancing type safety and streamlining the development flow 
-	Secure authentication using [NextAuth](https://next-auth.js.org/v3/adapters/prisma),
-	Responsive design, styled using Tailwind CSS.

## Challenges
Initially, I was faced with adhering to API rate limits while ensuring rapid data retrieval. I tried different methods for loading the data more quickly like server-side rendering to pre-render data. However, this did not solve the problem as it fetched the data each time page is reloaded or navigated to the page wrapped in ```getServerSideProps```. This method would pose the threat of reaching the API rate limit, which would crash the entire application.
Ultimately, I used [static generation](https://nextjs.org/docs/pages/building-your-application/rendering/static-site-generation) coupled with techniques with react-query’s caching capabilities.

For instance, inside ```/search ```, when searching for a book titled, “react”, it will first check the cache with relevant key. Only if the data is not found inside the cache, it will request the data to Google Books. The following response is now saved in [‘QueryCache’]( https://tanstack.com/query/v4/docs/react/reference/QueryCache) where it stays active until garbabge collected or data is invalidated.
![Outline](/images/projects/googlebooks_chart_before.png “general outline”)

From ```/search ```, when routing the page to ```books/[bookId]``` instead of hitting the Google Books API again and waiting for the response, it checks the cache and serves the data from the cache, which will serve the data more quickly! 
![Outline](/images/projects/googlebooks_chart_after.png “general outline”)

Addressing the intricacies of optimistic data handling was a pivotal aspect of this project, especially in the context of server-client communication. The challenge here was not just about maintaining a responsive and intuitive interface, but also about ensuring the integrity and consistency of data in real-time, a task that demands a deep understanding of both front-end and back-end systems.

In my approach of dealing with optimistic data for this current project, these were the main considerations:
    1) Provide user feedback when a user initiates an action.
    2) Updates the client-side state to reflect the expected result. 
    3) Include rollback mechanism to gracefully revert to its previous state.
    4) Cache invalidation to reflect the new state of the data.

A side-note here is that concurrent updates from multiple users may present a more complex challenge. The discrepencies that may arise from such scenarios require a more sophisticated strategy.

## What I have learned
Through this project, I have honed my skills in:
-	Advanced use of react-query, including caching strategies, optimistic updates, and complex querying techniques 
-	Effective utilization of third-party APIs and understanding it to write scalable codes and [improve performance]( https://developers.google.com/books/docs/v1/performance). 
-	Better understanding of Next.js framework (```/pages```) directory
-	Implementing authentication and OAuth.
